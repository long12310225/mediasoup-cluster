### 客户端创建会议流程
 页面点击创建会议按钮， 具体流程
 ```mermaid
 sequenceDiagram
    participant Client as 客户端
    participant Master as 主信令服务
    participant SlaveProducer as 从生产者服务
    Client->>Client: 点击创建会议按钮，触发createRoom函数
    Client->>Master: POST方式调用/api/rooms 接口，告知信令服务创建一个房间
    Master->>Master: 从数据库获取一个生产者服务信息
    Master->>SlaveProducer: POST方式调用/api/routers/:pid接口，使用生产服务信息创建一个路由
    SlaveProducer->>SlaveProducer: 调用mediasoup的worker.createRouter()方法创建一个路由
    Note right of SlaveProducer: 创建的路由现在没有指向
    SlaveProducer->>Master: 返回路由rtp能力
    Master->>Master: 将路由信息保存到media.room表
    Client->>Master: POST方式调用/api/rooms/{roomId}/consumer_routers 接口，告知信令服务创建一个消费者路由
    Note right of Client: 注意这里是带上了roomId，说明是在某个房间上创建一个消费者路由
    Note over Client,Master: 先尝试获取是否有该roomId的房间
    Master->>Master: 从数据表media.router和router.worker联合查询
    Master->>Master: 如果有，则去查询到的woker的IP调用/api/routers/:routerId接口，获取路由能力
    Note over Client,Master: 如果没该roomId的房间，则创建此房间的消费路由
    Master->>Master: 从media.worker表获取一个消费者服务信息
    Master->>SlaveProducer: POST方式调用/api/routers/:pid接口，使用消费服务信息创建一个路由
    SlaveProducer->>SlaveProducer: 调用mediasoup的worker.createRouter()方法创建一个路由
    Note right of SlaveProducer: 创建的路由现在没有指向
    SlaveProducer->>Master: 返回路由rtp能力
    Master->>Master: 将路由信息保存到media.room表
    Client->>Client: 创建成功，跳转到房间页面，触发updateDevice函数
    Client->>Client: 调用mediasoup-client-utils接口创建ClientRoom实例
    Client->>Client: ClientRoom实例调用initDevice函数初始化
    Client->>Client: 调用setRoom函数更新房间信息
    Client->>Client: 进入房间页面
    Client->>Client: 房间页面会初始化各种对象（ExitRoom，ProducerCloner，Producer，ConsumerClone，Consumer）
    Client->>Client: 其中Consumer会执行initRecvTransport，会触发调用/api/router/:routerId/consumer_transport接口
    Client->>Master: POST方式调用/api/router/:routerId/consumer_transport接口，告知信令服务创建一个消费者传输通道
    Master->>Master: 获取router并使用router.createWebRtcTransport()创建一个传输WebRtc类型通道
 ```

 #### 涉及到的HTTP接口
 - POST /api/rooms
 - POST /api/routers/:pid (内部)
 - POST /api/rooms/:roomId/consumer_routers
 - GET /apt/routers/:routerId (内部)
 - POST /api/router/:routerId/consumer_transport

 #### 流程分析
   
 到此，已经创建的资源如下：
 - 在生产服务上的一个路由，一个路由即一个房间
 - 在生产服务路由上的一个消费者传输通道，传输的类型是WebRtcTransport
  